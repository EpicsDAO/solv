<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Chapter 3: üåêüí∞ The Full Scope of Cloud Utilization: Efficient Monitoring of Solana Validators and Management of Staking Rewards üöÄ | solv - An Open-Source Tool for Easily Setting Up and Effortlessly Managing Solana Validators and RPC Nodes</title><meta property="og:title" content="Chapter 3: üåêüí∞ The Full Scope of Cloud Utilization: Efficient Monitoring of Solana Validators and Management of Staking Rewards üöÄ | solv - An Open-Source Tool for Easily Setting Up and Effortlessly Managing Solana Validators and RPC Nodes"/><meta name="twitter:title" content="Chapter 3: üåêüí∞ The Full Scope of Cloud Utilization: Efficient Monitoring of Solana Validators and Management of Staking Rewards üöÄ | solv - An Open-Source Tool for Easily Setting Up and Effortlessly Managing Solana Validators and RPC Nodes"/><meta name="twitter:text:title" content="Chapter 3: üåêüí∞ The Full Scope of Cloud Utilization: Efficient Monitoring of Solana Validators and Management of Staking Rewards üöÄ | solv - An Open-Source Tool for Easily Setting Up and Effortlessly Managing Solana Validators and RPC Nodes"/><meta name="description" content="In this chapter, we explore how to efficiently monitor Solana validators and manage staking rewards by fully leveraging the power of the cloud."/><meta property="og:description" content="In this chapter, we explore how to efficiently monitor Solana validators and manage staking rewards by fully leveraging the power of the cloud."/><meta name="twitter:description" content="In this chapter, we explore how to efficiently monitor Solana validators and manage staking rewards by fully leveraging the power of the cloud."/><meta property="og:url" content="https://solv.epics.dev/en/doc/tutorial/chapter3"/><meta property="og:image" content="https://solv.epics.dev/ogp.png"/><meta property="og:image:secure" content="https://solv.epics.dev/ogp.png"/><meta name="twitter:image" content="https://solv.epics.dev/ogp.png"/><meta name="next-head-count" content="13"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><meta name="format-detection" content="telephone=no"/><link rel="icon" type="image/svg+xml" href="/favicon.svg"/><meta name="keywords" content="solv, Solana, Epics, DAO, Open-Source, Validator, RPC, Node, Ubuntu, Utility, Tool"/><meta property="og:type" content="website"/><meta property="og:site_name" content="solv - An Open-Source Tool for Easily Setting Up and Effortlessly Managing Solana Validators and RPC Nodes"/><meta property="og:locale" content="en_US"/><meta http-equiv="content-language" content="en-us"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="@EpicsDAO2"/><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"/><link rel="preload" href="/_next/static/css/eafd365f16b35e04.css" as="style"/><link rel="stylesheet" href="/_next/static/css/eafd365f16b35e04.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-87b3a303122f2f0d.js" defer=""></script><script src="/_next/static/chunks/framework-8b412534be3d083c.js" defer=""></script><script src="/_next/static/chunks/main-95fbeaa0239f7cc5.js" defer=""></script><script src="/_next/static/chunks/pages/_app-fa35a254f8c9e6f1.js" defer=""></script><script src="/_next/static/chunks/9849d5b5-1dba8a65284812b4.js" defer=""></script><script src="/_next/static/chunks/634-cbf849f3ac2429ae.js" defer=""></script><script src="/_next/static/chunks/979-c080a50be3ca5ae9.js" defer=""></script><script src="/_next/static/chunks/782-76453d720f0fabf5.js" defer=""></script><script src="/_next/static/chunks/102-eab3258f32356b38.js" defer=""></script><script src="/_next/static/chunks/858-8cd0f679f68ca946.js" defer=""></script><script src="/_next/static/chunks/pages/%5Blocale%5D/doc/%5B...slug%5D-f1dc4a9103c8cb2a.js" defer=""></script><script src="/_next/static/Po52uJGQ0M3xsRHnuxKeM/_buildManifest.js" defer=""></script><script src="/_next/static/Po52uJGQ0M3xsRHnuxKeM/_ssgManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><main class="min-h-screen scroll-smooth font-sans antialiased"><div class="min-h-screen"><div class="flex h-screen w-full -translate-y-12 items-center justify-center"><img alt="Loading..." loading="lazy" width="24" height="24" decoding="async" data-nimg="1" class="h-6 w-auto dark:hidden sm:h-10" style="color:transparent" src="/_next/static/media/3-dots-bounce.7262aa0b.svg"/><img alt="Loading..." loading="lazy" width="24" height="24" decoding="async" data-nimg="1" class="hidden h-6 w-auto dark:block sm:h-10" style="color:transparent" src="/_next/static/media/3-dots-bounce-white.2b50e184.svg"/></div></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"title":"Chapter 3: üåêüí∞ The Full Scope of Cloud Utilization: Efficient Monitoring of Solana Validators and Management of Staking Rewards üöÄ","description":"In this chapter, we explore how to efficiently monitor Solana validators and manage staking rewards by fully leveraging the power of the cloud.","content":"\nIn this chapter, we explore how to efficiently monitor Solana validators and manage staking rewards by fully leveraging the power of the cloud. We aim to implement within the free tier of Firebase Functions using an innovative serverless framework called Skeet Framework. This framework allows us to optimize resources while making it easier and more cost-effective to monitor validator performance and track rewards. As we progress through the chapter, we will explain in detail how to implement these critical processes using Firebase and Skeet Framework, including practical examples.\n\nThis chapter utilizes Cloud Functions for Firebase and the serverless framework Skeet.\n\n## üöÄ Deploying Firebase Functions\n\nFirst, deploy `Cloud Functions for Firebase`.\nPlease refer to the following section for setting up this development environment and deployment.\n\nhttps://link.medium.com/Jvrjbv2uZEb\n\n## üì© Obtaining Discord Webhook URL\n\nRight-click on the channel where you want to receive notifications and create a Webhook.\nThen, make a note of the Webhook URL.\n\n![](https://storage.googleapis.com/zenn-user-upload/da936f953ead-20231122.png)\n\n## üõ∞Ô∏è Adding an Endpoint for Validator Monitoring\n\nIn the root directory of your `skeet framework`, execute the `skeet add method` command.\n\nSince you want to perform a periodic execution, select `schedule`.\n\n```bash\nskeet add method solvMonitor\n? Select Instance Type to add\n   = Instance Type =\n  http\n  firestore\n  pubsub\n‚ùØ schedule\n  auth\n‚úî ./functions/skeet/src/routings/schedule/solvMonitor.ts created üéâ\n‚úî Successfully exported to ./functions/skeet/src/index.ts üéâ\n```\n\nA template for `Cloud Functions for Firebase` named `solvMonitor` has been created.\n\n`solvMonitor.ts`\n\n```ts\nimport { onSchedule } from 'firebase-functions/v2/scheduler'\nimport { scheduleDefaultOption } from '@/routings/options'\n\nexport const solvMonitor = onSchedule(scheduleDefaultOption, async (event) =\u003e {\n  try {\n    console.log({ status: 'success' })\n  } catch (error) {\n    console.log({ status: 'error', message: String(error) })\n  }\n})\n```\n\n## üß† Adding Logic for Validator Monitoring\n\nFirst, add the necessary npm package.\n\n```bash\nskeet yarn add -p @skeet-framework/solana-utils\n? Select Services to run yarn command (Press \u003cspace\u003e to select, \u003ca\u003e to toggle all, \u003ci\u003e to invert selection, and \u003center\u003e to proceed)\n  = Services =\n‚ùØ‚óØ skeet\n```\n\nSelect the functions directory to add by pressing the space key.\n\nNext, add the Discord Webhook URL you obtained earlier to the Secret Manager.\n\n```bash\nskeet add secret DISCORD_WEBHOOK_URL\n? Enter a value for DISCORD_WEBHOOK_URL [hidden]\n‚úî  Created a new secret version projects/1012380258xx/secrets/DISCORD_WEBHOOK_URL/versions/1\n```\n\nThen, update `solvMonitor` as follows.\n\n```ts\nimport { onSchedule } from 'firebase-functions/v2/scheduler'\nimport { scheduleDefaultOption } from '@/routings/options'\nimport { defineSecret } from 'firebase-functions/params'\nimport {\n  ValidatorStatusParams,\n  isValidatorActive,\n} from '@skeet-framework/solana-utils'\nimport { sendDiscord } from '@skeet-framework/utils'\n\nconst DISCORD_WEBHOOK_URL = defineSecret('DISCORD_WEBHOOK_URL')\n\nexport const solvMonitor = onSchedule(\n  { ...scheduleDefaultOption, secrets: [DISCORD_WEBHOOK_URL] },\n  async (event) =\u003e {\n    try {\n      const endpoint = 'https://api.testnet.solana.com'\n      const voteAccountPubkey = '\u003cyour-vote-account-pubkey\u003e'\n      const result: ValidatorStatusParams = await isValidatorActive(\n        endpoint,\n        voteAccountPubkey\n      )\n      const content = `Validator: ${voteAccountPubkey}\\nStatus${\n        result.isActive ? 'active' : 'inactive'\n      }\\nMessage: ${result.reason}`\n      await sendDiscord(content, {\n        webhookUrl: DISCORD_WEBHOOK_URL.value(),\n        username: 'Skeet Solana Monitor',\n      })\n      console.log({ result })\n      console.log({ status: 'success' })\n    } catch (error) {\n      console.log({ status: 'error', message: String(error) })\n    }\n  }\n)\n```\n\nAdd the logic for validator monitoring as shown above.\n\n## üöÄ Deploying Logic for Validator Monitoring\n\nDeploy your monitoring app using the `skeet deploy` command.\n\n```bash\n? Select Functions to deploy (Press \u003cspace\u003e to select, \u003ca\u003e to toggle all, \u003ci\u003e to invert selection, and \u003center\u003e to proceed)\n  = Functions =\n ‚óØ root\n‚ùØ‚óâ solvMonitor\n```\n\nSelect `solvMonitor` and deploy it to `Cloud Functions for Firebase`.\n\nNext, execute it from the following `Cloud Scheduler` console:\n\nhttps://console.cloud.google.com/cloudscheduler\n\nYou can test it by clicking `Force run` from the `Actions` on the right.\n\n![](https://storage.googleapis.com/zenn-user-upload/b7e5b17d4be5-20231122.png)\n\nIf it succeeds, you will see:\n\n![](https://storage.googleapis.com/zenn-user-upload/5125848e30dd-20231122.png)\n\nA notification will be sent to Discord üéâ\n\n## ‚è≤Ô∏è Setting Scheduled Execution Time\n\nBy default, the configuration options are defined in the following directory:\n\n`functions/skeet/src/routings/options/scheduleOptions.ts`\n\n```ts\nimport { ScheduleOptions } from 'firebase-functions/v2/scheduler'\nimport skeetOptions from '../../../skeetOptions.json'\n\nconst appName = skeetOptions.name\nconst project = skeetOptions.projectId\nconst region = skeetOptions.region\nconst serviceAccount = `${appName}@${project}.iam.gserviceaccount.com`\nconst vpcConnector = `${appName}-con`\n\nexport const scheduleDefaultOption: ScheduleOptions = {\n  region,\n  schedule: 'every 1 hours',\n  timeZone: 'UTC',\n  retryCount: 3,\n  maxRetrySeconds: 60,\n  minBackoffSeconds: 1,\n  maxBackoffSeconds: 10,\n  serviceAccount,\n  timeoutSeconds: 540,\n  labels: {\n    skeet: 'schedule',\n  },\n}\n```\n\nBy default, it is set to execute every hour. Please change the value of `schedule` to your desired setting.\n\nFor more details on schedule settings:\n\nhttps://cloud.google.com/scheduler/docs/configuring/cron-job-schedules\n\n## üåê Adding an Endpoint for Staking Rewards Monitoring\n\nSimilarly, we are now adding a new feature for checking staking rewards.\n\n```bash\nskeet add method stakeMonitor\n? Select Instance Type to add\n   = Instance Type =\n  http\n  firestore\n  pubsub\n‚ùØ schedule\n  auth\n‚úî ./functions/skeet/src/routings/schedule/stakeMonitor.ts created üéâ\n‚úî Successfully exported to ./functions/skeet/src/index.ts üéâ\n```\n\nA template for `Cloud Functions for Firebase` named `stakingMonitor` has been created.\n\n`stakingMonitor.ts`\n\n```ts\nimport { onSchedule } from 'firebase-functions/v2/scheduler'\nimport { scheduleDefaultOption } from '@/routings/options'\n\nexport const stakingMonitor = onSchedule(\n  scheduleDefaultOption,\n  async (event) =\u003e {\n    try {\n      console.log({ status: 'success' })\n    } catch (error) {\n      console.log({ status: 'error', message: String(error) })\n    }\n  }\n)\n```\n\n## üîó About Solana's RPC Endpoints\n\nThe official Solana RPC endpoint `https://api.mainnet-beta.solana.com` has rate limits, so using a private RPC is recommended for more stable data access. To this end, we introduce the use of Helius's RPC service and how to securely store its endpoint information in a secret manager.\n\nhttps://www.helius.dev/\n\nUse the following command to register the Helius RPC endpoint with the secret manager:\n\n```bash\nskeet add secret HELIUS_ENDPOINT\n? Enter a value for HELIUS_ENDPOINT [hidden]\n```\n\nBy following this procedure, your application will be able to access the Solana network more efficiently through Helius's private RPC, obtaining stable data without being affected by rate limits.\n\n## üí° Adding Logic for Staking Reward Monitoring\n\nUpdate `stakingMonitor` as follows:\n\n```ts\nimport { onSchedule } from 'firebase-functions/v2/scheduler'\nimport { schedulePublicOption } from '@/routings/options'\nimport {\n  RewardDataResponse,\n  getAllStakeRewardsByPubkey,\n} from '@skeet-framework/solana-utils'\nimport { defineSecret } from 'firebase-functions/params'\nimport { sendDiscord } from '@skeet-framework/utils'\n\nconst DISCORD_WEBHOOK_URL = defineSecret('DISCORD_WEBHOOK_URL')\nconst HELIUS_ENDPOINT = defineSecret('HELIUS_ENDPOINT')\n\nexport const stakeMonitor = onSchedule(\n  { ...schedulePublicOption, secrets: [DISCORD_WEBHOOK_URL, HELIUS_ENDPOINT] },\n  async (event) =\u003e {\n    try {\n      const walletPubkey = 'LKnGHsjr7UYBXnzfbrz4k6QotCz56rMQTSiVwdRSyL9'\n      const result: RewardDataResponse = await getAllStakeRewardsByPubkey(\n        HELIUS_ENDPOINT.value(),\n        walletPubkey\n      )\n      const content = `Account: ${walletPubkey}\nEpoch: ${result.epoch}\nReward: ${result.totalRewardAmount} SOL\nTotal SOL: ${result.totalBalance} SOL\n`\n      await sendDiscord(content, {\n        webhookUrl: DISCORD_WEBHOOK_URL.value(),\n        username: 'Skeet Staking Monitor',\n      })\n      console.log({ status: 'success' })\n    } catch (error) {\n      console.log({ status: 'error', message: String(error) })\n    }\n  }\n)\n```\n\n## üì§ Deploying Logic for Staking Rewards Monitoring\n\nSimilarly, deploy the monitoring app using the `skeet deploy` command.\n\n```bash\nskeet deploy --function skeet:stakeMonitor\n```\n\nYou can also specify which functions to deploy by using the `--function` option.\n\nLikewise, let's try executing it from Cloud Scheduler.\n\n![](https://storage.googleapis.com/zenn-user-upload/446a191fdf48-20231123.png)\n\nThe notification has been successfully received üéâ\n\n![](https://storage.googleapis.com/zenn-user-upload/7ba0331573c5-20231123.png)\n\nIn the next chapter, we will manage data more conveniently using `Firestore` and `Google Sheets`.\n"},"articleHtml":"\u003cp\u003eIn this chapter, we explore how to efficiently monitor Solana validators and manage staking rewards by fully leveraging the power of the cloud. We aim to implement within the free tier of Firebase Functions using an innovative serverless framework called Skeet Framework. This framework allows us to optimize resources while making it easier and more cost-effective to monitor validator performance and track rewards. As we progress through the chapter, we will explain in detail how to implement these critical processes using Firebase and Skeet Framework, including practical examples.\u003c/p\u003e\n\u003cp\u003eThis chapter utilizes Cloud Functions for Firebase and the serverless framework Skeet.\u003c/p\u003e\n\u003ch2 id=\"-deploying-firebase-functions\" class=\"font-extrabold tracking-tighter break-word\"\u003eüöÄ Deploying Firebase Functions\u003c/h2\u003e\n\u003cp\u003eFirst, deploy \u003ccode\u003eCloud Functions for Firebase\u003c/code\u003e.\nPlease refer to the following section for setting up this development environment and deployment.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://link.medium.com/Jvrjbv2uZEb\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ehttps://link.medium.com/Jvrjbv2uZEb\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"-obtaining-discord-webhook-url\" class=\"font-extrabold tracking-tighter break-word\"\u003eüì© Obtaining Discord Webhook URL\u003c/h2\u003e\n\u003cp\u003eRight-click on the channel where you want to receive notifications and create a Webhook.\nThen, make a note of the Webhook URL.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://storage.googleapis.com/zenn-user-upload/da936f953ead-20231122.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003ch2 id=\"Ô∏è-adding-an-endpoint-for-validator-monitoring\" class=\"font-extrabold tracking-tighter break-word\"\u003eüõ∞Ô∏è Adding an Endpoint for Validator Monitoring\u003c/h2\u003e\n\u003cp\u003eIn the root directory of your \u003ccode\u003eskeet framework\u003c/code\u003e, execute the \u003ccode\u003eskeet add method\u003c/code\u003e command.\u003c/p\u003e\n\u003cp\u003eSince you want to perform a periodic execution, select \u003ccode\u003eschedule\u003c/code\u003e.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eskeet add method solvMonitor\n? Select Instance Type to add\n   = Instance Type =\n  http\n  firestore\n  pubsub\n‚ùØ schedule\n  auth\n‚úî ./functions/skeet/src/routings/schedule/solvMonitor.ts created üéâ\n‚úî Successfully exported to ./functions/skeet/src/index.ts üéâ\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eA template for \u003ccode\u003eCloud Functions for Firebase\u003c/code\u003e named \u003ccode\u003esolvMonitor\u003c/code\u003e has been created.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003esolvMonitor.ts\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-ts\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { onSchedule } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'firebase-functions/v2/scheduler'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { scheduleDefaultOption } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@/routings/options'\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e solvMonitor = \u003cspan class=\"hljs-title function_\"\u003eonSchedule\u003c/span\u003e(scheduleDefaultOption, \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (event) =\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'success'\u003c/span\u003e })\n  } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (error) {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'error'\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003emessage\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eString\u003c/span\u003e(error) })\n  }\n})\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"-adding-logic-for-validator-monitoring\" class=\"font-extrabold tracking-tighter break-word\"\u003eüß† Adding Logic for Validator Monitoring\u003c/h2\u003e\n\u003cp\u003eFirst, add the necessary npm package.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eskeet yarn add -p @skeet-framework/solana-utils\n? Select Services to run yarn \u003cspan class=\"hljs-built_in\"\u003ecommand\u003c/span\u003e (Press \u0026#x3C;space\u003e to \u003cspan class=\"hljs-keyword\"\u003eselect\u003c/span\u003e, \u0026#x3C;a\u003e to toggle all, \u0026#x3C;i\u003e to invert selection, and \u0026#x3C;enter\u003e to proceed)\n  = Services =\n‚ùØ‚óØ skeet\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSelect the functions directory to add by pressing the space key.\u003c/p\u003e\n\u003cp\u003eNext, add the Discord Webhook URL you obtained earlier to the Secret Manager.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eskeet add secret DISCORD_WEBHOOK_URL\n? Enter a value \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e DISCORD_WEBHOOK_URL [hidden]\n‚úî  Created a new secret version projects/1012380258xx/secrets/DISCORD_WEBHOOK_URL/versions/1\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen, update \u003ccode\u003esolvMonitor\u003c/code\u003e as follows.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-ts\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { onSchedule } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'firebase-functions/v2/scheduler'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { scheduleDefaultOption } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@/routings/options'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { defineSecret } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'firebase-functions/params'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\n  \u003cspan class=\"hljs-title class_\"\u003eValidatorStatusParams\u003c/span\u003e,\n  isValidatorActive,\n} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@skeet-framework/solana-utils'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { sendDiscord } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@skeet-framework/utils'\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eDISCORD_WEBHOOK_URL\u003c/span\u003e = \u003cspan class=\"hljs-title function_\"\u003edefineSecret\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'DISCORD_WEBHOOK_URL'\u003c/span\u003e)\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e solvMonitor = \u003cspan class=\"hljs-title function_\"\u003eonSchedule\u003c/span\u003e(\n  { ...scheduleDefaultOption, \u003cspan class=\"hljs-attr\"\u003esecrets\u003c/span\u003e: [\u003cspan class=\"hljs-variable constant_\"\u003eDISCORD_WEBHOOK_URL\u003c/span\u003e] },\n  \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (event) =\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e endpoint = \u003cspan class=\"hljs-string\"\u003e'https://api.testnet.solana.com'\u003c/span\u003e\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e voteAccountPubkey = \u003cspan class=\"hljs-string\"\u003e'\u0026#x3C;your-vote-account-pubkey\u003e'\u003c/span\u003e\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eresult\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eValidatorStatusParams\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eisValidatorActive\u003c/span\u003e(\n        endpoint,\n        voteAccountPubkey\n      )\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e content = \u003cspan class=\"hljs-string\"\u003e`Validator: \u003cspan class=\"hljs-subst\"\u003e${voteAccountPubkey}\u003c/span\u003e\\nStatus\u003cspan class=\"hljs-subst\"\u003e${\n        result.isActive ? \u003cspan class=\"hljs-string\"\u003e'active'\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e'inactive'\u003c/span\u003e\n      }\u003c/span\u003e\\nMessage: \u003cspan class=\"hljs-subst\"\u003e${result.reason}\u003c/span\u003e`\u003c/span\u003e\n      \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esendDiscord\u003c/span\u003e(content, {\n        \u003cspan class=\"hljs-attr\"\u003ewebhookUrl\u003c/span\u003e: \u003cspan class=\"hljs-variable constant_\"\u003eDISCORD_WEBHOOK_URL\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003evalue\u003c/span\u003e(),\n        \u003cspan class=\"hljs-attr\"\u003eusername\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Skeet Solana Monitor'\u003c/span\u003e,\n      })\n      \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e({ result })\n      \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'success'\u003c/span\u003e })\n    } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (error) {\n      \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'error'\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003emessage\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eString\u003c/span\u003e(error) })\n    }\n  }\n)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAdd the logic for validator monitoring as shown above.\u003c/p\u003e\n\u003ch2 id=\"-deploying-logic-for-validator-monitoring\" class=\"font-extrabold tracking-tighter break-word\"\u003eüöÄ Deploying Logic for Validator Monitoring\u003c/h2\u003e\n\u003cp\u003eDeploy your monitoring app using the \u003ccode\u003eskeet deploy\u003c/code\u003e command.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e? Select Functions to deploy (Press \u0026#x3C;space\u003e to \u003cspan class=\"hljs-keyword\"\u003eselect\u003c/span\u003e, \u0026#x3C;a\u003e to toggle all, \u0026#x3C;i\u003e to invert selection, and \u0026#x3C;enter\u003e to proceed)\n  = Functions =\n ‚óØ root\n‚ùØ‚óâ solvMonitor\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSelect \u003ccode\u003esolvMonitor\u003c/code\u003e and deploy it to \u003ccode\u003eCloud Functions for Firebase\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eNext, execute it from the following \u003ccode\u003eCloud Scheduler\u003c/code\u003e console:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://console.cloud.google.com/cloudscheduler\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ehttps://console.cloud.google.com/cloudscheduler\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eYou can test it by clicking \u003ccode\u003eForce run\u003c/code\u003e from the \u003ccode\u003eActions\u003c/code\u003e on the right.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://storage.googleapis.com/zenn-user-upload/b7e5b17d4be5-20231122.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eIf it succeeds, you will see:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://storage.googleapis.com/zenn-user-upload/5125848e30dd-20231122.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eA notification will be sent to Discord üéâ\u003c/p\u003e\n\u003ch2 id=\"Ô∏è-setting-scheduled-execution-time\" class=\"font-extrabold tracking-tighter break-word\"\u003e‚è≤Ô∏è Setting Scheduled Execution Time\u003c/h2\u003e\n\u003cp\u003eBy default, the configuration options are defined in the following directory:\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003efunctions/skeet/src/routings/options/scheduleOptions.ts\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-ts\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eScheduleOptions\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'firebase-functions/v2/scheduler'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e skeetOptions \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'../../../skeetOptions.json'\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e appName = skeetOptions.\u003cspan class=\"hljs-property\"\u003ename\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e project = skeetOptions.\u003cspan class=\"hljs-property\"\u003eprojectId\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e region = skeetOptions.\u003cspan class=\"hljs-property\"\u003eregion\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e serviceAccount = \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${appName}\u003c/span\u003e@\u003cspan class=\"hljs-subst\"\u003e${project}\u003c/span\u003e.iam.gserviceaccount.com`\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e vpcConnector = \u003cspan class=\"hljs-string\"\u003e`\u003cspan class=\"hljs-subst\"\u003e${appName}\u003c/span\u003e-con`\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003escheduleDefaultOption\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eScheduleOptions\u003c/span\u003e = {\n  region,\n  \u003cspan class=\"hljs-attr\"\u003eschedule\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'every 1 hours'\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003etimeZone\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'UTC'\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eretryCount\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003emaxRetrySeconds\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e60\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003eminBackoffSeconds\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003emaxBackoffSeconds\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e,\n  serviceAccount,\n  \u003cspan class=\"hljs-attr\"\u003etimeoutSeconds\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e540\u003c/span\u003e,\n  \u003cspan class=\"hljs-attr\"\u003elabels\u003c/span\u003e: {\n    \u003cspan class=\"hljs-attr\"\u003eskeet\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'schedule'\u003c/span\u003e,\n  },\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBy default, it is set to execute every hour. Please change the value of \u003ccode\u003eschedule\u003c/code\u003e to your desired setting.\u003c/p\u003e\n\u003cp\u003eFor more details on schedule settings:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://cloud.google.com/scheduler/docs/configuring/cron-job-schedules\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ehttps://cloud.google.com/scheduler/docs/configuring/cron-job-schedules\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"-adding-an-endpoint-for-staking-rewards-monitoring\" class=\"font-extrabold tracking-tighter break-word\"\u003eüåê Adding an Endpoint for Staking Rewards Monitoring\u003c/h2\u003e\n\u003cp\u003eSimilarly, we are now adding a new feature for checking staking rewards.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eskeet add method stakeMonitor\n? Select Instance Type to add\n   = Instance Type =\n  http\n  firestore\n  pubsub\n‚ùØ schedule\n  auth\n‚úî ./functions/skeet/src/routings/schedule/stakeMonitor.ts created üéâ\n‚úî Successfully exported to ./functions/skeet/src/index.ts üéâ\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eA template for \u003ccode\u003eCloud Functions for Firebase\u003c/code\u003e named \u003ccode\u003estakingMonitor\u003c/code\u003e has been created.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003estakingMonitor.ts\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-ts\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { onSchedule } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'firebase-functions/v2/scheduler'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { scheduleDefaultOption } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@/routings/options'\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e stakingMonitor = \u003cspan class=\"hljs-title function_\"\u003eonSchedule\u003c/span\u003e(\n  scheduleDefaultOption,\n  \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (event) =\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n      \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'success'\u003c/span\u003e })\n    } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (error) {\n      \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'error'\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003emessage\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eString\u003c/span\u003e(error) })\n    }\n  }\n)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"-about-solanas-rpc-endpoints\" class=\"font-extrabold tracking-tighter break-word\"\u003eüîó About Solana's RPC Endpoints\u003c/h2\u003e\n\u003cp\u003eThe official Solana RPC endpoint \u003ccode\u003ehttps://api.mainnet-beta.solana.com\u003c/code\u003e has rate limits, so using a private RPC is recommended for more stable data access. To this end, we introduce the use of Helius's RPC service and how to securely store its endpoint information in a secret manager.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://www.helius.dev/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ehttps://www.helius.dev/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eUse the following command to register the Helius RPC endpoint with the secret manager:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eskeet add secret HELIUS_ENDPOINT\n? Enter a value \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e HELIUS_ENDPOINT [hidden]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBy following this procedure, your application will be able to access the Solana network more efficiently through Helius's private RPC, obtaining stable data without being affected by rate limits.\u003c/p\u003e\n\u003ch2 id=\"-adding-logic-for-staking-reward-monitoring\" class=\"font-extrabold tracking-tighter break-word\"\u003eüí° Adding Logic for Staking Reward Monitoring\u003c/h2\u003e\n\u003cp\u003eUpdate \u003ccode\u003estakingMonitor\u003c/code\u003e as follows:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-ts\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { onSchedule } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'firebase-functions/v2/scheduler'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { schedulePublicOption } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@/routings/options'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e {\n  \u003cspan class=\"hljs-title class_\"\u003eRewardDataResponse\u003c/span\u003e,\n  getAllStakeRewardsByPubkey,\n} \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@skeet-framework/solana-utils'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { defineSecret } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'firebase-functions/params'\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { sendDiscord } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@skeet-framework/utils'\u003c/span\u003e\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eDISCORD_WEBHOOK_URL\u003c/span\u003e = \u003cspan class=\"hljs-title function_\"\u003edefineSecret\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'DISCORD_WEBHOOK_URL'\u003c/span\u003e)\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eHELIUS_ENDPOINT\u003c/span\u003e = \u003cspan class=\"hljs-title function_\"\u003edefineSecret\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'HELIUS_ENDPOINT'\u003c/span\u003e)\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e stakeMonitor = \u003cspan class=\"hljs-title function_\"\u003eonSchedule\u003c/span\u003e(\n  { ...schedulePublicOption, \u003cspan class=\"hljs-attr\"\u003esecrets\u003c/span\u003e: [\u003cspan class=\"hljs-variable constant_\"\u003eDISCORD_WEBHOOK_URL\u003c/span\u003e, \u003cspan class=\"hljs-variable constant_\"\u003eHELIUS_ENDPOINT\u003c/span\u003e] },\n  \u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e (event) =\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e walletPubkey = \u003cspan class=\"hljs-string\"\u003e'LKnGHsjr7UYBXnzfbrz4k6QotCz56rMQTSiVwdRSyL9'\u003c/span\u003e\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eresult\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eRewardDataResponse\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003egetAllStakeRewardsByPubkey\u003c/span\u003e(\n        \u003cspan class=\"hljs-variable constant_\"\u003eHELIUS_ENDPOINT\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003evalue\u003c/span\u003e(),\n        walletPubkey\n      )\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e content = \u003cspan class=\"hljs-string\"\u003e`Account: \u003cspan class=\"hljs-subst\"\u003e${walletPubkey}\u003c/span\u003e\nEpoch: \u003cspan class=\"hljs-subst\"\u003e${result.epoch}\u003c/span\u003e\nReward: \u003cspan class=\"hljs-subst\"\u003e${result.totalRewardAmount}\u003c/span\u003e SOL\nTotal SOL: \u003cspan class=\"hljs-subst\"\u003e${result.totalBalance}\u003c/span\u003e SOL\n`\u003c/span\u003e\n      \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esendDiscord\u003c/span\u003e(content, {\n        \u003cspan class=\"hljs-attr\"\u003ewebhookUrl\u003c/span\u003e: \u003cspan class=\"hljs-variable constant_\"\u003eDISCORD_WEBHOOK_URL\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003evalue\u003c/span\u003e(),\n        \u003cspan class=\"hljs-attr\"\u003eusername\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Skeet Staking Monitor'\u003c/span\u003e,\n      })\n      \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'success'\u003c/span\u003e })\n    } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (error) {\n      \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003estatus\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'error'\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003emessage\u003c/span\u003e: \u003cspan class=\"hljs-title class_\"\u003eString\u003c/span\u003e(error) })\n    }\n  }\n)\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"-deploying-logic-for-staking-rewards-monitoring\" class=\"font-extrabold tracking-tighter break-word\"\u003eüì§ Deploying Logic for Staking Rewards Monitoring\u003c/h2\u003e\n\u003cp\u003eSimilarly, deploy the monitoring app using the \u003ccode\u003eskeet deploy\u003c/code\u003e command.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003eskeet deploy --\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e skeet:stakeMonitor\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou can also specify which functions to deploy by using the \u003ccode\u003e--function\u003c/code\u003e option.\u003c/p\u003e\n\u003cp\u003eLikewise, let's try executing it from Cloud Scheduler.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://storage.googleapis.com/zenn-user-upload/446a191fdf48-20231123.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eThe notification has been successfully received üéâ\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://storage.googleapis.com/zenn-user-upload/7ba0331573c5-20231123.png\" alt=\"\"\u003e\u003c/p\u003e\n\u003cp\u003eIn the next chapter, we will manage data more conveniently using \u003ccode\u003eFirestore\u003c/code\u003e and \u003ccode\u003eGoogle Sheets\u003c/code\u003e.\u003c/p\u003e","title":"Chapter 3: üåêüí∞ The Full Scope of Cloud Utilization: Efficient Monitoring of Solana Validators and Management of Staking Rewards üöÄ | solv - An Open-Source Tool for Easily Setting Up and Effortlessly Managing Solana Validators and RPC Nodes","seoData":[{"property":"og:title","content":"Chapter 3: üåêüí∞ The Full Scope of Cloud Utilization: Efficient Monitoring of Solana Validators and Management of Staking Rewards üöÄ | solv - An Open-Source Tool for Easily Setting Up and Effortlessly Managing Solana Validators and RPC Nodes"},{"name":"twitter:title","content":"Chapter 3: üåêüí∞ The Full Scope of Cloud Utilization: Efficient Monitoring of Solana Validators and Management of Staking Rewards üöÄ | solv - An Open-Source Tool for Easily Setting Up and Effortlessly Managing Solana Validators and RPC Nodes"},{"name":"twitter:text:title","content":"Chapter 3: üåêüí∞ The Full Scope of Cloud Utilization: Efficient Monitoring of Solana Validators and Management of Staking Rewards üöÄ | solv - An Open-Source Tool for Easily Setting Up and Effortlessly Managing Solana Validators and RPC Nodes"},{"name":"description","content":"In this chapter, we explore how to efficiently monitor Solana validators and manage staking rewards by fully leveraging the power of the cloud."},{"property":"og:description","content":"In this chapter, we explore how to efficiently monitor Solana validators and manage staking rewards by fully leveraging the power of the cloud."},{"name":"twitter:description","content":"In this chapter, we explore how to efficiently monitor Solana validators and manage staking rewards by fully leveraging the power of the cloud."},{"property":"og:url","content":"https://solv.epics.dev/en/doc/tutorial/chapter3"},{"property":"og:image","content":"https://solv.epics.dev/ogp.png"},{"property":"og:image:secure","content":"https://solv.epics.dev/ogp.png"},{"name":"twitter:image","content":"https://solv.epics.dev/ogp.png"}],"_nextI18Next":{"initialI18nStore":{"en":{"common":{"contactToTeam":"Talk with Team","privacy":"Privacy","404title":"Page not found","404body":"Sorry, we couldn't find the page you're looking for.","backToTop":"Back to top page","toc":"Table of Contents","openMenu":"Open menu","closeMenu":"Close menu","media":"Media","news":"News","books":"Books","copy":"Copy","copied":"Copied!","solvInstall":"Install solv","updateSettings":"Update settings","setupSolv":"Setup","thatsAll":"That's all!","navs":{"defaultMainNav":{"quickstart":"Quickstart","news":"News","doc":"Docs","dao":"DAO","enterprise":"Enterprise","contact":"Contact"},"commonFooterNav":{"quickstart":"Quickstart","news":"News","doc":"Docs","enterprise":"Enterprise","dao":"DAO","contact":"Contact","privacy":"Privacy","press-kits":"Press Kits"}},"AgreeToPolicy":{"title":"Your Choices Regarding Cookies","body":"We and our third party partners use cookies and similar technologies to process certain information, such as your IP address and digital identifiers, to analyze site usage and provide you better experiences. Please read our privacy policy for the detail.","yes":"Yes, I Accept","no":"No, I Do Not Accept"},"ContactRow":{"discord":{"title":"Community Discord","body":"If you have any inquiries, please create a support ticket in the community Discord.","button":"JOIN"},"form":{"title":"Talk with Team","body":"If you have any inquiries about development and support, please get in touch with us from here.","button":"Go"}},"CTASectionRow":{"title":"The utility tool for Solana Validators","body":"solv is an open-source tool designed to simplify the setup and operation of Solana validators and RPC nodes.","button":"Get Started","demo":"Try Demo"},"WhyOpenSourceDevelopmentRow":{"subtitle":"Why Open-Source Software?","title":"Sustainable technology development and benefits for society as a whole","description":"Open-source software (OSS) development drives technological progress in modern society and enables new value creation.","feature1":{"title":"Value as a public good","description":"Open-source software is free for anyone to use, improve, and redistribute. This makes OSS a public good for all mankind. People all over the world can enjoy its value without feeling financially constrained. As a result, innovation across society will be driven, and the equality and inclusiveness of the digital society will increase."},"feature2":{"title":"Global cooperation","description":"In the world of OSS, developers all over the world work together to improve software beyond the boundaries of regions and organizations. Each person's perspective and expertise can be incorporated into the project, enhancing its quality. OSS is truly a global gathering place of knowledge and experience that consistently produces high-quality software."},"feature3":{"title":"Preventing reinvention of the wheel","description":"OSS allows us to reuse code and prevents us from reinventing the wheel. As a result, developers can focus less on creating everything from scratch and more on solving specific problems and developing new features. This increases efficiency and enables faster higher-quality results."}},"RoadmapRow":{"2022.6":"Epics Lite Paper, TGE (Token Generate Event)","2022.7":"Epics GENESIS presale","2022.8":"Epics White Paper v1","2022.9":"Epics Alpha launch, Solana Summer Camp Hackathon 5th prize","2022.10":"Presale for IDO, WBSO (Advanced R\u0026D) certified by the Dutch government","2022.11":"Solana Breakpoint, GitHub issue Data Oracle Collaborative Development (DIA)","2023.1":"IDO $EPCT on Orca (Solana DEX)","2023.4":"Epics DAO became a Solana Testnet Validator","2023.9":"Seed Extension Round Fundraising","2023.12":"Epics Platform Beta Launch","2024.2":"$EPCT Listed on Meteora (Solana DEX)","2024.4":"NFT Card Design Reveal, NICONICO CHOKAIGI 2024, ENASE 2024","2024.5":"Epics DAO became a Solana mainnet validator","2024.8":"NFT Card Game Œ≤ Test Begins, WebX 2024","2024.10":"Series A fundraising, EPCD Exchange Launch","2025.4":"Major Release of Epics Platform, General Release of the NFT Card Game","2025.9":"Series B Fundraising","2026.4":"IEO $EPCT"},"OurWorksRow":{"WBSO":{"title":"WBSO accreditation from the Dutch government","description":"Epics DAO has received WBSO (Advanced Science and Technology Research) accreditation from the Dutch government. Epics is a social contribution blockchain game (BCG) that aims to realize a sustainable open-source development environment."},"SolanaValidator":{"title":"We operate a validator for the Solana blockchain","description":"As a validator on the Solana chain, Epics DAO is committed to ensuring the reliability and stability of the network. We will also contribute to the technical aspects of achieving Solana's fast and stable network."},"SolanaSummerCamp":{"title":"Placed 5th at Solana Summer Camp Hackathon 2022","description":"Epics DAO won 5th place out of over 18,000 entries at the Solana Summer Camp Hackathon held July 11-August 16, 2022."},"GoogleWeb3":{"title":"ELSOUL LABO has been certified by Google Web3 Startups program","description":"ELSOUL LABO's activities in the Web3 sector, including Epics DAO, and support for open-source development initiatives such as solv and Skeet, have been recognized and selected for the Google Cloud Web3 Startups program."},"ENASE2024":{"title":"Research Paper on AI \u0026 Serverless 'Skeet' Accepted for ENASE 2024","description":"The research paper 'Skeet: Towards a Lightweight Serverless Framework Supporting Modern AI-Driven App Development' has been accepted for presentation at the international conference on software engineering, ENASE 2024."},"CHOKAIGI2024":{"title":"Epics DAO Exhibits at CHOKAIGI 2024","description":"Epics DAO exhibited at CHOKAIGI 2024, held on April 27th - 28th, 2024, distributing limited edition NFTs and more. With a total attendance of 125,362 visitors, the event concluded successfully."},"WebX2024":{"title":"Epics DAO is a WebX 2024 Sponsor","description":"WebX 2024 is the largest event in Asia focused on cutting-edge technologies in Web3, including cryptocurrencies and blockchain. It is the only conference where government bodies, established companies, IP firms, and Web3 businesses can interact."}},"SolvTutorialYouTubeRow":{"title":"Complete Guide to Solana Validators","subtitle":"YouTube Tutorial","description":"We have released a comprehensive guide to easily start operating a Solana validator using solv. For those already running a Solana validator, you can easily switch to solv to benefit from no-downtime transitions and accelerated snapshot downloads."},"SolanaBreakpointSideEventRow":{"title":"Solana Validator Hands-On Workshop","description":"Join us to explore the realm of Solana Validators! This beginner-friendly workshop allows you to launch a Solana Validator using Latitude's cloud servers. Validators process transactions and secure the network, earning rewards. You'll get hands-on experience, unraveling the operational essence of validators while enjoying event-exclusive free credits. It's a chance to learn, interact, and dive into the incentivized world of Solana Validators. Looking forward to engaging in discussions. See you there!","link":"Event Detail"},"LatitudeCouponRow":{"subtitle":"Try it now on Bare Metal Cloud","title":"Latitude Trial Credit Coupon","description":"Through our partnership with Latitude, we are now able to offer a $100 credit coupon. By utilizing this coupon, you can actually try out launching a Solana validator with solv at hand right now.","register":"Register Coupon","couponCode":"Coupon Code"},"StakeForOpenSourceRow":{"subtitle":"Stake for the future of Open-Source Development","title":"Let's support Open-Source Development while earning staking rewards.","description":"‚Äª These are not intended for investment advice. The information are based on the situation at the time of writing. Please check for the most current information. Always NFA/DYOR.","feature1":{"title":"Solana Mainnet Validator","description":"Epics DAO operates a Solana mainnet validator with a 0% fee for users who stake their SOL tokens, resulting in a stake reward with an annual percentage rate (APR) of 7.58% as of May 16, 2024. To contribute to the decentralization of the Solana network and enable innovation worldwide, we will focus our operations in areas with fewer nodes and data centers.","button":"Go to Validator Detail"},"feature2":{"title":"Buidlers Collective (BDLC) NFT","description":"When you stake BDLC NFTs on the Epics platform, you can earn $EPCT token rewards. Additionally, an equivalent amount of $EPCT is donated to the open-source project where the NFTs are staked, to be used for future development. This initiative utilizes blockchain technology to enable socially beneficial NFT staking and No Loss Donation, where staking rewards are donated without losing the principal.","button":"Go to NFT Marketplace"}},"NicoNicoChoKaigi2024Row":{"subtitle":"Cho Dice Roll in NICONICO CHOKAIGI 2024","title":"Thank you for visiting!","description":"Epics DAO participated in Nico Nico Chokaigi 2024, held at Makuhari Messe on April 27th and 28th, and distributed limited edition NFTs to visitors. The event attracted a total of 125,362 attendees, with about 3,000 people visiting the Epics DAO Cho Dice Roll booth, successfully concluding the event with great fanfare."},"WebX2024Row":{"title":"WebX 2024 Sponsor Confirmed","description":"Epics DAO will participate as a sponsor at WebX 2024. WebX is the largest event in Asia focused on cutting-edge technologies in Web3, including cryptocurrencies and blockchain. It is the only conference where government bodies, established companies, IP firms, and Web3 businesses can interact.","discountLink":"Sponsor Discount Tickets"}},"doc":{"title":"solv Document","body":"Open-Source Solana Validator Utility Tool","previousPage":"Previous page","nextPage":"Next page","actions":{"motivation":{"title":"Motivation","body":"We believe it to be beneficial for all Solana validators, as well as the Solana community and the open-source development community, and have released it as open-source accordingly."},"quickstart":{"title":"Quickstart","body":"Learn to use solv in three easy steps! This guide quickly introduces you to the essentials of the solv."},"tutorial":{"title":"Tutorial","body":"A guide to actually starting the operation of a Solana validator using solv."},"update":{"title":"No Downtime Update","body":"Explains how to migrate validator nodes without downtime. It's effective for daily updates as well as moving operations."}},"menuNav":{"home":"Docs Home","general":{"groupTitle":"General","motivation":"Motivation","quickstart":"Quickstart"},"quickstart":{"groupTitle":"Quickstart","start-solv":"Start solv","solv-mev-mode":"solv MEV Mode","no-downtime-update":"No Downtime Update"},"tutorial":{"groupTitle":"Tutorial","chapter1":"1. Solana Setup","chapter2":"2. Backup \u0026 Migrate","chapter3":"3. Cloud \u0026 Monitor","chapter4":"4. Revenue Analysis","chapter5":"5. Setup RPC Node"}},"headerNav":{"home":"solv Home","news":"News"}}}},"initialLocale":"en","ns":["common","doc"],"userConfig":{"i18n":{"defaultLocale":"en","locales":["en","ja"]},"default":{"i18n":{"defaultLocale":"en","locales":["en","ja"]}}}}},"__N_SSG":true},"page":"/[locale]/doc/[...slug]","query":{"locale":"en","slug":["tutorial","chapter3"]},"buildId":"Po52uJGQ0M3xsRHnuxKeM","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>